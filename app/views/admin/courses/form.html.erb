<% nav_add 'Administración', '#' %>
<% nav_add 'Cursos', admin_courses_path %>
<% nav_add @course.name, admin_course_path(@course) unless @course.new_record? %>
<% nav_add @labels.title, '#' %>
<%= nav_render %>

<%= form_for [:admin, @course] do |f| %>

  <%= render :partial => 'shared/errors', locals: { f: f } %>

  <div class="form-group">
    <%= f.label :name, 'Nombre', class: 'control-label' %>
    <%= f.text_field :name, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= f.label :password, 'Contraseña', class: 'control-label' %>
    <%= f.text_field :password, class: 'form-control' %>
  </div>

  <%

    # TODO(delucas): define this on a centralized place
    all_features = {
        badges: 1,
        events: 2,
        teams: 4,
        lectures: 8,
        automatic_correction_challenges: 16,
        peer_review_challenges: 32,
        exercises: 64,
        competences: 128,
        tiny_cards: 256
    }

  %>

  <% all_features.each do |feature, value| %>

    <div class="checkbox">
      <label>
        <input type="checkbox" name="course[features][]"
               value="<%= value %>" <%= 'checked="checked"' if @course.on?(feature.to_sym) %> />
        <%= t "course.features.#{feature}" %>
      </label>
    </div>

  <% end %>

  <div class="form-group">
    <%= f.label :attendance_event_id, 'Evento de asistencia', class: 'control-label' %>
    <%= f.collection_select :attendance_event_id, @course.events, :id, :name, { include_blank: true }, { class: 'form-control' } %>
  </div>

  <div class="form-group">
    <%= f.submit @labels.button, class: "btn btn-primary" %>
  </div>

<% end %>
